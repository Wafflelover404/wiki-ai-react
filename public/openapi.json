{"openapi":"3.1.0","info":{"title":"RAG API","description":"Knowledge Base Query and Management System with RAG","version":"1.0.0"},"paths":{"/reports/get/auto":{"get":{"tags":["Reports"],"summary":"Retrieve auto-generated reports","description":"Returns all automatically generated reports (e.g., when no answer was returned from RAG).\nAccess restricted to admin or master key holder.","operationId":"fetch_auto_reports_reports_get_auto_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Fetch Auto Reports Reports Get Auto Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/reports/get/manual":{"get":{"tags":["Reports"],"summary":"Retrieve manually submitted reports","description":"Returns all reports submitted manually by users via feedback.\nAccess restricted to admin or master key holder.","operationId":"fetch_manual_reports_reports_get_manual_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Fetch Manual Reports Reports Get Manual Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/reports/submit/manual":{"post":{"tags":["Reports"],"summary":"Submit a manual report","description":"Allows any authenticated user to submit a manual report.\nThe system logs their username and permitted files at time of submission.","operationId":"submit_manual_report_reports_submit_manual_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_submit_manual_report_reports_submit_manual_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Submit Manual Report Reports Submit Manual Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/reports/clear/auto":{"delete":{"tags":["Reports"],"summary":"Clear all auto-generated reports","description":"Deletes all auto-generated reports from the database.\nRequires admin privileges or master key.","operationId":"clear_auto_reports_reports_clear_auto_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Clear Auto Reports Reports Clear Auto Delete"}}}}},"security":[{"HTTPBearer":[]}]}},"/reports/clear/manual":{"delete":{"tags":["Reports"],"summary":"Clear all manual reports","description":"Deletes all manually submitted reports from the database.\nRequires admin privileges or master key.","operationId":"clear_manual_reports_reports_clear_manual_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Clear Manual Reports Reports Clear Manual Delete"}}}}},"security":[{"HTTPBearer":[]}]}},"/metrics/queries":{"get":{"tags":["Analytics"],"summary":"Get Metrics Queries","description":"Get recent queries for analytics - NEW Advanced Analytics\n\nReturns paginated query metrics with filters support.","operationId":"get_metrics_queries_metrics_queries_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","description":"Time range","default":"24h","title":"Since"},"description":"Time range"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/aggregations/users":{"get":{"tags":["Analytics & Metrics"],"summary":"User activity summary","description":"Get top users by query count, with avg response time and model usage.","operationId":"get_user_activity_summary_metrics_aggregations_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Activity Summary Metrics Aggregations Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/aggregations/files":{"get":{"tags":["Analytics & Metrics"],"summary":"File popularity and access stats","description":"Get most accessed files in RAG responses or direct views.","operationId":"get_file_usage_stats_metrics_aggregations_files_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get File Usage Stats Metrics Aggregations Files Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/aggregations/timeseries":{"get":{"tags":["Analytics & Metrics"],"summary":"Time-series data for graphs","description":"Return time-series data suitable for line/bar charts.","operationId":"get_time_series_metrics_aggregations_timeseries_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"interval","in":"query","required":false,"schema":{"type":"string","description":"hour, day","default":"hour","title":"Interval"},"description":"hour, day"},{"name":"metric","in":"query","required":false,"schema":{"type":"string","description":"queries, users, response_time","default":"queries","title":"Metric"},"description":"queries, users, response_time"},{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"7d","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Time Series Metrics Aggregations Timeseries Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/aggregations/models":{"get":{"tags":["Analytics & Metrics"],"summary":"Model usage breakdown","description":"Get percentage and count of local vs server model usage.","operationId":"get_model_usage_metrics_aggregations_models_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Model Usage Metrics Aggregations Models Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/summary":{"get":{"tags":["Analytics"],"summary":"Get Metrics Summary Endpoint","description":"Get summary metrics for the dashboard - NEW Advanced Analytics\n\nRequires authentication. Returns comprehensive performance and usage metrics.","operationId":"get_metrics_summary_endpoint_metrics_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","description":"Time range: 1h, 24h, 7d, etc","default":"24h","title":"Since"},"description":"Time range: 1h, 24h, 7d, etc"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/user/activity":{"get":{"tags":["User Metrics"],"summary":"Get user's own activity","description":"Get the authenticated user's recent activity.","operationId":"get_user_activity_metrics_user_activity_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Activity Metrics User Activity Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/user/summary":{"get":{"tags":["User Metrics"],"summary":"Get user's metrics summary","description":"Get summary metrics for the authenticated user.","operationId":"get_user_metrics_summary_metrics_user_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Metrics Summary Metrics User Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/user/sessions":{"get":{"tags":["User Metrics"],"summary":"Get user's active sessions","description":"Get count of active sessions for the current user.","operationId":"get_user_sessions_metrics_user_sessions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get User Sessions Metrics User Sessions Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/metrics/user/files":{"get":{"tags":["User Metrics"],"summary":"Get user's file interactions","description":"Get statistics about files the user has interacted with.","operationId":"get_user_file_stats_metrics_user_files_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User File Stats Metrics User Files Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/performance/overview":{"get":{"tags":["Advanced Analytics"],"summary":"Performance metrics overview","description":"Get comprehensive performance overview","operationId":"get_performance_overview_analytics_performance_overview_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Performance Overview Analytics Performance Overview Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/performance/query-latency":{"get":{"tags":["Advanced Analytics"],"summary":"Query latency analysis","description":"Get query latency percentiles and trends","operationId":"get_query_latency_analytics_performance_query_latency_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Query Latency Analytics Performance Query Latency Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/performance/bottlenecks":{"get":{"tags":["Advanced Analytics"],"summary":"Identify system bottlenecks","description":"Identify performance bottlenecks","operationId":"get_bottlenecks_analytics_performance_bottlenecks_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Bottlenecks Analytics Performance Bottlenecks Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/performance/endpoints":{"get":{"tags":["Advanced Analytics"],"summary":"Endpoint performance metrics","description":"Get performance metrics by endpoint","operationId":"get_endpoint_performance_analytics_performance_endpoints_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Endpoint Performance Analytics Performance Endpoints Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/users/engagement-score/{user_id}":{"get":{"tags":["Advanced Analytics"],"summary":"User engagement score","description":"Get individual user engagement score","operationId":"get_user_engagement_analytics_users_engagement_score__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Engagement Analytics Users Engagement Score  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/users/segments":{"get":{"tags":["Advanced Analytics"],"summary":"User segmentation analysis","description":"Get user segmentation by activity level","operationId":"get_user_segments_analytics_users_segments_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get User Segments Analytics Users Segments Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/users/retention":{"get":{"tags":["Advanced Analytics"],"summary":"User retention metrics","description":"Get user retention analysis","operationId":"get_retention_analysis_analytics_users_retention_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"cohort_days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Cohort Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Retention Analysis Analytics Users Retention Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/users/churned":{"get":{"tags":["Advanced Analytics"],"summary":"Identify churned users","description":"Identify potentially churned users","operationId":"get_churned_users_analytics_users_churned_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days_inactive","in":"query","required":false,"schema":{"type":"integer","default":14,"title":"Days Inactive"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Churned Users Analytics Users Churned Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/users/feature-adoption":{"get":{"tags":["Advanced Analytics"],"summary":"Feature adoption metrics","description":"Get feature adoption metrics","operationId":"get_feature_adoption_analytics_users_feature_adoption_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"feature_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Feature Name"}},{"name":"since_days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Since Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Feature Adoption Analytics Users Feature Adoption Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/users/funnel/{user_id}":{"get":{"tags":["Advanced Analytics"],"summary":"User query funnel","description":"Get user's query refinement funnel","operationId":"get_user_funnel_analytics_users_funnel__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Funnel Analytics Users Funnel  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/users/high-value":{"get":{"tags":["Advanced Analytics"],"summary":"High-value users","description":"Identify high-value users","operationId":"get_high_value_users_analytics_users_high_value_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"min_queries","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Min Queries"}},{"name":"since_days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Since Days"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get High Value Users Analytics Users High Value Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/conversion/funnel":{"get":{"tags":["Advanced Analytics"],"summary":"Conversion funnel analysis","description":"Get user conversion funnel","operationId":"get_conversion_funnel_analytics_conversion_funnel_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Conversion Funnel Analytics Conversion Funnel Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/security/threats":{"get":{"tags":["Advanced Analytics"],"summary":"Threat summary","description":"Get security threat summary","operationId":"get_threats_analytics_security_threats_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Threats Analytics Security Threats Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/security/suspicious-ips":{"get":{"tags":["Advanced Analytics"],"summary":"Suspicious IP addresses","description":"Get list of suspicious IP addresses","operationId":"get_suspicious_ips_analytics_security_suspicious_ips_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}},{"name":"min_events","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Min Events"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Suspicious Ips Analytics Security Suspicious Ips Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/security/suspicious-users":{"get":{"tags":["Advanced Analytics"],"summary":"Suspicious user activity","description":"Get list of users with suspicious activity","operationId":"get_suspicious_users_analytics_security_suspicious_users_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}},{"name":"min_events","in":"query","required":false,"schema":{"type":"integer","default":3,"title":"Min Events"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Suspicious Users Analytics Security Suspicious Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/security/brute-force":{"get":{"tags":["Advanced Analytics"],"summary":"Brute force attack detection","description":"Detect potential brute force attacks","operationId":"detect_brute_force_analytics_security_brute_force_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Since Hours"}},{"name":"threshold","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Threshold"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Detect Brute Force Analytics Security Brute Force Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/security/credential-stuffing":{"get":{"tags":["Advanced Analytics"],"summary":"Credential stuffing detection","description":"Detect potential credential stuffing attacks","operationId":"detect_credential_stuffing_analytics_security_credential_stuffing_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Detect Credential Stuffing Analytics Security Credential Stuffing Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/security/permission-abuse":{"get":{"tags":["Advanced Analytics"],"summary":"Permission abuse detection","description":"Detect potential permission abuse","operationId":"detect_permission_abuse_analytics_security_permission_abuse_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Detect Permission Abuse Analytics Security Permission Abuse Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/security/anomalies/{user_id}":{"get":{"tags":["Advanced Analytics"],"summary":"Access pattern anomalies","description":"Get access pattern anomalies for a user","operationId":"get_access_anomalies_analytics_security_anomalies__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Access Anomalies Analytics Security Anomalies  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/compliance/audit-log":{"get":{"tags":["Advanced Analytics"],"summary":"Audit log summary","description":"Get audit log summary for compliance","operationId":"get_audit_log_analytics_compliance_audit_log_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Since Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Audit Log Analytics Compliance Audit Log Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/compliance/retention":{"get":{"tags":["Advanced Analytics"],"summary":"Data retention compliance","description":"Check data retention policy compliance","operationId":"check_retention_analytics_compliance_retention_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Check Retention Analytics Compliance Retention Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/analytics/compliance/user-report/{user_id}":{"get":{"tags":["Advanced Analytics"],"summary":"User access report","description":"Generate user access report for compliance","operationId":"get_user_access_report_analytics_compliance_user_report__user_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"since_days","in":"query","required":false,"schema":{"type":"integer","default":90,"title":"Since Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Access Report Analytics Compliance User Report  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/documents/top":{"get":{"tags":["Advanced Analytics"],"summary":"Top performing documents","description":"Get top performing documents by usage and relevance","operationId":"get_top_documents_analytics_documents_top_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Top Documents Analytics Documents Top Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/errors/summary":{"get":{"tags":["Advanced Analytics"],"summary":"Error summary","description":"Get error summary and trends","operationId":"get_error_summary_analytics_errors_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Error Summary Analytics Errors Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/report/executive-summary":{"get":{"tags":["Advanced Analytics"],"summary":"Executive summary dashboard","description":"Get executive summary dashboard","operationId":"get_executive_summary_analytics_report_executive_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since_hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Since Hours"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Executive Summary Analytics Report Executive Summary Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/analytics/report/daily-summary":{"get":{"tags":["Advanced Analytics"],"summary":"Daily summary report","description":"Get daily summary report","operationId":"get_daily_summary_analytics_report_daily_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Daily Summary Analytics Report Daily Summary Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api-keys/create":{"post":{"summary":"Create Api Key Endpoint","description":"Create a new API key for the user's organization (admin only).","operationId":"create_api_key_endpoint_api_keys_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAPIKeyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api-keys/list":{"get":{"summary":"List Api Keys Endpoint","description":"List all API keys for the user's organization (admin only).","operationId":"list_api_keys_endpoint_api_keys_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api-keys/{key_id}":{"get":{"summary":"Get Api Key Endpoint","description":"Get details of a specific API key (admin only).","operationId":"get_api_key_endpoint_api_keys__key_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Api Key Endpoint","description":"Update an API key's metadata (admin only).","operationId":"update_api_key_endpoint_api_keys__key_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAPIKeyRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Api Key Endpoint","description":"Delete an API key permanently (admin only).","operationId":"delete_api_key_endpoint_api_keys__key_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api-keys/{key_id}/revoke":{"post":{"summary":"Revoke Api Key Endpoint","description":"Revoke (disable) an API key (admin only).","operationId":"revoke_api_key_endpoint_api_keys__key_id__revoke_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api-keys/permissions/list":{"get":{"summary":"Get Available Permissions","description":"Get list of available API key permissions.","operationId":"get_available_permissions_api_keys_permissions_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/opencart/products/import":{"post":{"summary":"Import Opencart Products","description":"Import OpenCart products with organization isolation.\n\nSupports plugin token for shop-specific ingestion.\nOrganization is determined from:\n- plugin_token (if provided)\n- API key organization (if authenticated with API key)\n- Session user's organization","operationId":"import_opencart_products_opencart_products_import_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"plugin_token","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plugin Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OCProductsImport"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/status":{"get":{"tags":["Plugins"],"summary":"Get Plugins Status","description":"Get enabled/disabled status of all plugins for the user's organization","operationId":"get_plugins_status_plugins_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/plugins/enable":{"post":{"tags":["Plugins"],"summary":"Enable Org Plugin","description":"Enable a plugin for the organization","operationId":"enable_org_plugin_plugins_enable_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"plugin_type","in":"query","required":true,"schema":{"type":"string","title":"Plugin Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/disable":{"post":{"tags":["Plugins"],"summary":"Disable Org Plugin","description":"Disable a plugin for the organization","operationId":"disable_org_plugin_plugins_disable_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"plugin_type","in":"query","required":true,"schema":{"type":"string","title":"Plugin Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/tokens":{"get":{"tags":["Plugins"],"summary":"Get Plugin Tokens","description":"List plugin tokens for the organization","operationId":"get_plugin_tokens_plugins_tokens_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"plugin_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plugin Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/tokens/create":{"post":{"tags":["Plugins"],"summary":"Create Shop Token","description":"Create a new API token for a shop/plugin resource","operationId":"create_shop_token_plugins_tokens_create_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"plugin_type","in":"query","required":true,"schema":{"type":"string","title":"Plugin Type"}},{"name":"shop_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shop Name"}},{"name":"shop_url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shop Url"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/tokens/revoke":{"post":{"tags":["Plugins"],"summary":"Revoke Shop Token","description":"Revoke a plugin token","operationId":"revoke_shop_token_plugins_tokens_revoke_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"token_id","in":"query","required":true,"schema":{"type":"string","title":"Token Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shops/register":{"post":{"tags":["OpenCart Shops"],"summary":"Register Opencart Shop","description":"Register an OpenCart shop without creating a catalog.\n\nThis endpoint stores the shop connection information. Products are not\nloaded until the user creates a catalog from the shop.","operationId":"register_opencart_shop_shops_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCatalogRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/shops":{"get":{"tags":["OpenCart Shops"],"summary":"List Shops","description":"List all registered OpenCart shops for the current user/organization.","operationId":"list_shops_shops_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/shops/{shop_id}":{"delete":{"tags":["OpenCart Shops"],"summary":"Delete Shop","description":"Delete/unregister an OpenCart shop.","operationId":"delete_shop_shops__shop_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shop_id","in":"path","required":true,"schema":{"type":"string","title":"Shop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/shops/{shop_id}/catalogs":{"post":{"tags":["OpenCart Catalogs"],"summary":"Create Catalog From Shop","description":"Create a catalog from a registered shop and load products.\n\nThis is called when the user wants to import products from a shop.","operationId":"create_catalog_from_shop_shops__shop_id__catalogs_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"shop_id","in":"path","required":true,"schema":{"type":"string","title":"Shop Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalogs/create":{"post":{"tags":["OpenCart Catalogs"],"summary":"Create New Catalog","description":"Create a new OpenCart catalog.\n\nThis endpoint creates a new catalog entry that can store multiple products\nwith their descriptions indexed for semantic search.\nAlso auto-generates an API key and loads products from the OpenCart database.","operationId":"create_new_catalog_catalogs_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCatalogRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/catalogs/{catalog_id}":{"get":{"tags":["OpenCart Catalogs"],"summary":"Get Catalog Details","description":"Get catalog details and statistics.\n\nReturns metadata about the catalog including product counts and indexing status.","operationId":"get_catalog_details_catalogs__catalog_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["OpenCart Catalogs"],"summary":"Update Catalog","description":"Update catalog metadata.\n\nAllows updating shop_name, shop_url, description, and is_active status.","operationId":"update_catalog_catalogs__catalog_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Updates"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["OpenCart Catalogs"],"summary":"Delete Catalog Endpoint","description":"Delete a catalog and all its products.\n\nThis operation is irreversible.","operationId":"delete_catalog_endpoint_catalogs__catalog_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalogs":{"get":{"tags":["OpenCart Catalogs"],"summary":"List User Catalogs","description":"List all catalogs for the current user.\n\nReturns paginated list of all catalogs owned by or accessible to the user.","operationId":"list_user_catalogs_catalogs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/catalogs/{catalog_id}/products/import":{"post":{"tags":["OpenCart Catalogs"],"summary":"Import Catalog Products","description":"Import products into a catalog with automatic indexation.\n\nEnforces organization isolation using plugin token or API key.\nStores products in database with vector embeddings for semantic search.\nMetadata (name, price, description, etc.) is stored with organization_id.","operationId":"import_catalog_products_catalogs__catalog_id__products_import_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}},{"name":"plugin_token","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plugin Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CatalogProductRequest"},"title":"Products"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalogs/{catalog_id}/products":{"get":{"tags":["OpenCart Catalogs"],"summary":"List Catalog Products","description":"List products in a catalog.\n\nSupports pagination and filtering for indexed products.","operationId":"list_catalog_products_catalogs__catalog_id__products_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"indexed_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Indexed Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalogs/{catalog_id}/index":{"post":{"tags":["OpenCart Catalogs"],"summary":"Index Catalog Descriptions","description":"Index product descriptions from a catalog to Chroma vector database.\n\nThis endpoint processes all unindexed products in the catalog and creates\nvector embeddings of their descriptions for semantic search.","operationId":"index_catalog_descriptions_catalogs__catalog_id__index_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/catalogs/{catalog_id}/search":{"get":{"tags":["OpenCart Catalogs"],"summary":"Search Catalog Products","description":"Search products in a catalog using semantic search.\n\nPerforms a hybrid semantic + keyword search across product data.","operationId":"search_catalog_products_catalogs__catalog_id__search_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"catalog_id","in":"path","required":true,"schema":{"type":"string","title":"Catalog Id"}},{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"use_semantic","in":"query","required":false,"schema":{"type":"boolean","description":"Use semantic search (default: True)","default":true,"title":"Use Semantic"},"description":"Use semantic search (default: True)"},{"name":"min_relevance","in":"query","required":false,"schema":{"type":"number","maximum":1,"minimum":0,"description":"Minimum relevance score (0-1)","default":0.2,"title":"Min Relevance"},"description":"Minimum relevance score (0-1)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/register":{"post":{"summary":"Register User","operationId":"register_user_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/{full_path}":{"options":{"summary":"Preflight Handler","description":"Handle CORS preflight OPTIONS requests","operationId":"preflight_handler__full_path__options","parameters":[{"name":"full_path","in":"path","required":true,"schema":{"type":"string","title":"Full Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/login":{"post":{"summary":"Login User","operationId":"login_user_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/organizations/create_with_admin":{"post":{"summary":"Create Organization With Admin","description":"Create a new organization and its initial admin (owner) account, then return a session token.\n\nThis is the entry point for multi-tenant onboarding and is intended to replace\nthe standalone user login/registration flow in the UI.","operationId":"create_organization_with_admin_organizations_create_with_admin_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganizationCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenRoleResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/logout":{"post":{"summary":"Logout User","description":"Logout user and invalidate session_id","operationId":"logout_user_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/token/validate":{"get":{"summary":"Validate Token","description":"Validate token and return minimal session info.\nLightweight endpoint for checking token validity on page load/navigation.\nReturns: {status, created, expires}","operationId":"validate_token_token_validate_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/admin/access":{"get":{"summary":"Check Admin Access","description":"Check if user has admin access.\nOnly admin users can successfully call this endpoint.\nReturns: {status, is_admin, username, role}","operationId":"check_admin_access_admin_access_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/create_token":{"post":{"summary":"Generate Token","description":"Create a new access token (only allowed once)","operationId":"generate_token_create_token_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}}}},"/query":{"post":{"summary":"Process Secure Rag Query","description":"Process a query using RAG with file access security (HTTP fallback for compatibility)","operationId":"process_secure_rag_query_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/search/opencart":{"post":{"summary":"Search Opencart Products","description":"Search OpenCart products specifically. Returns only results that come from OpenCart catalogs.\nUses RAG's semantic search with metadata filtering for better performance and accuracy.","operationId":"search_opencart_products_search_opencart_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/content/{filename}":{"get":{"summary":"Get File Content","description":"Return the content of a file by its name (if user has access) or fetch OpenCart product data.\nSupports percent-encoded (e.g. Russian) filenames. Reads from DB.\nEnforces organization-level access control: users can only access files from their organization.\nFor OpenCart products (when catalog_id is provided), returns product details as JSON.","operationId":"get_file_content_files_content__filename__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}},{"name":"include_quiz","in":"query","required":false,"schema":{"type":"boolean","description":"If true, return JSON with file content and quiz","default":false,"title":"Include Quiz"},"description":"If true, return JSON with file content and quiz"},{"name":"catalog_id","in":"query","required":false,"schema":{"type":"string","description":"If provided, treat filename as product name and return OpenCart product data","title":"Catalog Id"},"description":"If provided, treat filename as product name and return OpenCart product data"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/quiz/{filename}":{"post":{"summary":"Create Or Get Quiz","description":"Return a quiz for the given file. If `regenerate=true`, create a new quiz. Otherwise,\nreturn the latest existing quiz, generating one if missing.","operationId":"create_or_get_quiz_quiz__filename__post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}},{"name":"regenerate","in":"query","required":false,"schema":{"type":"boolean","description":"If true, re-generate a new quiz for the file","default":false,"title":"Regenerate"},"description":"If true, re-generate a new quiz for the file"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat":{"post":{"summary":"Secure Chat","description":"Secure chat using RAG with conversation history and file access control.\nEnforces organization-level access: users can only chat within their organization.","operationId":"secure_chat_chat_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"query","required":true,"schema":{"type":"string","description":"Session ID for chat history","title":"Session Id"},"description":"Session ID for chat history"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RAGQueryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/upload":{"post":{"summary":"Upload Document","description":"Upload and index document in RAG (stores file in DB)","operationId":"upload_document_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/list":{"get":{"summary":"List Documents","description":"List all uploaded documents the user has access to","operationId":"list_documents_files_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/delete_by_fileid":{"delete":{"summary":"Delete Document","description":"Delete document from RAG system","operationId":"delete_document_files_delete_by_fileid_delete","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteFileRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/files/available":{"get":{"summary":"List Available Filenames","description":"List all available filenames in the uploads directory.\nReturns a list of filenames with their extensions.","operationId":"list_available_filenames_files_available_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/files/delete_by_filename":{"delete":{"summary":"Delete File By Filename","description":"Delete a file by its filename (admin only). Removes from uploads, Chroma, and DB.","operationId":"delete_file_by_filename_files_delete_by_filename_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/index":{"post":{"tags":["Documents"],"summary":"Index Files","description":"Manually index all unindexed files in the knowledge base (admin only).\nThis endpoint scans the database for files that haven't been indexed to Chroma yet\nand creates vector embeddings for them.\n\nAlso checks for existing embeddings and replaces them if they exist.","operationId":"index_files_files_index_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/accounts":{"get":{"summary":"Get Accounts","description":"List all accounts with their username, role, and last login.\nRequires admin authentication. Returns only users in the admin's organization.","operationId":"get_accounts_accounts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get Accounts Accounts Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/user/delete":{"delete":{"summary":"Delete User Endpoint","description":"Delete a user by username. Requires admin or master key.\nAdmin can only delete users in their own organization.","operationId":"delete_user_endpoint_user_delete_delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user/edit":{"post":{"summary":"Edit User Endpoint","description":"Edit user fields. Only provided fields are changed. Requires admin or master key.\nAdmin can only edit users in their own organization.","operationId":"edit_user_endpoint_user_edit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEditRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/user/{username}":{"put":{"summary":"Update User Endpoint","description":"Update user fields using PUT method (RESTful). Only provided fields are changed. Requires admin or master key.","operationId":"update_user_endpoint_user__username__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserEditRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user/disrupt_sessions":{"post":{"summary":"Disrupt Sessions Endpoint","description":"Remove all active sessions for the user that owns the provided access token (logout everywhere for that user).","operationId":"disrupt_sessions_endpoint_user_disrupt_sessions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DisruptSessionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/edit":{"post":{"summary":"Edit File Content","description":"Edit a file's content and reindex it (admin only).","operationId":"edit_file_content_files_edit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_edit_file_content_files_edit_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/metrics/performance":{"get":{"tags":["Analytics"],"summary":"Get Metrics Performance","description":"Get performance metrics - NEW Advanced Analytics\n\nShows operation performance, bottlenecks, and resource usage.","operationId":"get_metrics_performance_metrics_performance_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/errors":{"get":{"tags":["Analytics"],"summary":"Get Metrics Errors","description":"Get error metrics - NEW Advanced Analytics\n\nShows error frequency and aggregation.","operationId":"get_metrics_errors_metrics_errors_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/documents":{"get":{"tags":["Analytics"],"summary":"Get Metrics Documents","description":"Get document usage metrics - NEW Advanced Analytics\n\nShows most accessed files and their usage patterns.","operationId":"get_metrics_documents_metrics_documents_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/health":{"get":{"tags":["Analytics"],"summary":"Get Metrics Health","description":"Get system health metrics - NEW Advanced Analytics\n\nQuick health check with current status.","operationId":"get_metrics_health_metrics_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/metrics/summary-legacy":{"get":{"tags":["Analytics (Deprecated)"],"summary":"Get Metrics Summary Legacy","description":"DEPRECATED: Use /metrics/summary instead.\n\nThis endpoint is maintained for backward compatibility only.","operationId":"get_metrics_summary_legacy_metrics_summary_legacy_get","deprecated":true,"security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/metrics/queries-legacy":{"get":{"tags":["Analytics (Deprecated)"],"summary":"Get Metrics Queries Legacy","description":"DEPRECATED: Use /metrics/queries instead.\n\nThis endpoint is maintained for backward compatibility only.","operationId":"get_metrics_queries_legacy_metrics_queries_legacy_get","deprecated":true,"security":[{"HTTPBearer":[]}],"parameters":[{"name":"since","in":"query","required":false,"schema":{"type":"string","default":"24h","title":"Since"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"APIResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"response":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"string"},{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Response"}},"type":"object","required":["status","message"],"title":"APIResponse"},"Body_edit_file_content_files_edit_post":{"properties":{"filename":{"type":"string","title":"Filename"},"new_content":{"type":"string","title":"New Content"}},"type":"object","required":["filename","new_content"],"title":"Body_edit_file_content_files_edit_post"},"Body_submit_manual_report_reports_submit_manual_post":{"properties":{"issue":{"type":"string","title":"Issue","description":"User's description of the issue or feedback."}},"type":"object","required":["issue"],"title":"Body_submit_manual_report_reports_submit_manual_post"},"Body_upload_document_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_document_upload_post"},"CatalogProductRequest":{"properties":{"product_id":{"type":"string","title":"Product Id"},"name":{"type":"string","title":"Name"},"sku":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sku"},"price":{"type":"number","title":"Price"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"url":{"type":"string","title":"Url"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"quantity":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quantity"},"status":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status"},"rating":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rating"}},"type":"object","required":["product_id","name","price","url"],"title":"CatalogProductRequest"},"CreateAPIKeyRequest":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions"},"expires_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expires In Days"}},"type":"object","required":["name","permissions"],"title":"CreateAPIKeyRequest"},"CreateCatalogRequest":{"properties":{"shop_name":{"type":"string","title":"Shop Name"},"shop_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Shop Url"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["shop_name"],"title":"CreateCatalogRequest"},"DeleteFileRequest":{"properties":{"file_id":{"type":"integer","title":"File Id"}},"type":"object","required":["file_id"],"title":"DeleteFileRequest"},"DisruptSessionsRequest":{"properties":{"access_token":{"type":"string","title":"Access Token"}},"type":"object","required":["access_token"],"title":"DisruptSessionsRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest"},"OCProductPayload":{"properties":{"product_id":{"type":"string","title":"Product Id"},"name":{"type":"string","title":"Name"},"sku":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sku"},"price":{"type":"string","title":"Price"},"special":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Special"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"url":{"type":"string","title":"Url"},"image":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image"},"quantity":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quantity"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"rating":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rating"}},"type":"object","required":["product_id","name","price","url"],"title":"OCProductPayload"},"OCProductsImport":{"properties":{"success":{"type":"boolean","title":"Success"},"total_products":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Total Products"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"},"offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offset"},"products":{"items":{"$ref":"#/components/schemas/OCProductPayload"},"type":"array","title":"Products"}},"type":"object","required":["success","products"],"title":"OCProductsImport"},"OrganizationCreateRequest":{"properties":{"organization_name":{"type":"string","title":"Organization Name"},"admin_username":{"type":"string","title":"Admin Username"},"admin_password":{"type":"string","title":"Admin Password"}},"type":"object","required":["organization_name","admin_username","admin_password"],"title":"OrganizationCreateRequest"},"RAGQueryRequest":{"properties":{"question":{"type":"string","title":"Question"},"humanize":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Humanize","default":true},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"model_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Type"},"catalog_ids":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Catalog Ids"}},"type":"object","required":["question"],"title":"RAGQueryRequest"},"RegisterRequest":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"role":{"type":"string","title":"Role"},"allowed_files":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Files"}},"type":"object","required":["username","password","role"],"title":"RegisterRequest"},"TokenResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},"type":"object","required":["status","message"],"title":"TokenResponse"},"TokenRoleResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},"type":"object","required":["status","message"],"title":"TokenRoleResponse"},"UpdateAPIKeyRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"permissions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Permissions"}},"type":"object","title":"UpdateAPIKeyRequest"},"UserEditRequest":{"properties":{"username":{"type":"string","title":"Username"},"new_username":{"type":"string","title":"New Username","default":""},"password":{"type":"string","title":"Password","default":""},"role":{"type":"string","title":"Role","default":""},"allowed_files":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Files"}},"type":"object","required":["username"],"title":"UserEditRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}